<apex:page standardController="contact"  id="pgsendsms" extensions="bulksmsgupshup">
    <script>
    function SmsTemplate(template){
        debugger;
        var sendTemplate = document.getElementById('pgsendsms:smsform:pgsms:smsInfo:sendTemplate');
        sendTemplate.value = template
    }
    </script>
    <!-- Chandresh-->
    <script type="text/javascript">
        function selectAllCheckboxes(obj,receivedInputID){
            var inputCheckBox = document.getElementsByTagName("input");
            for(var i=0; i<inputCheckBox.length; i++){
                if(inputCheckBox[i].id.indexOf(receivedInputID)!=-1){
                    inputCheckBox[i].checked = obj.checked;
                }
            }
        }
        </script>
    <!--Chandresh-->
   <apex:form id="smsform">
    <apex:pageBlock title="Bulk SMS" id="pgsms">
        <apex:pageMessages id="smsmessage"></apex:pageMessages>
        <apex:pageBlockSection id="smsInfo"  columns="2">
               
             
                <apex:actionRegion >  <b>  Select Template:</b>&nbsp;<apex:selectList value="{!sendTemplate}" multiselect="false" size="1"  onChange="SmsTemplate(this.value)" >
                        <apex:selectOptions value="{!smsTemplates}"/>&nbsp;&nbsp;&nbsp;
                    </apex:selectList> &nbsp;&nbsp;&nbsp;<br/>
                <apex:inputTextarea id="sendTemplate" value="{!sendTemplate}" style="width:400px;height:80px" disabled="true" /> 
                </apex:actionRegion>
            
             <apex:outputPanel style="position:absolute;">
                    <apex:actionRegion > <b>Type :</b>&nbsp; <apex:selectlist value="{!selectedtype}" label="Type"  ><apex:selectOptions value="{!TypeOption}"/></apex:selectlist> &nbsp;&nbsp;&nbsp;
                        <apex:inputtext value="{!schoolname}" html-placeholder="School/Institutions"  />
                <apex:commandButton action="{!show}" value="Show Contacts"/> &nbsp;&nbsp;
                    </apex:actionRegion>
                </apex:outputPanel>
           
        </apex:pageBlockSection>
        <apex:pageBlockButtons >             
                <apex:commandButton value="Send Bulk SMS" action="{!SendBulkSMS}"/>              
        </apex:pageBlockButtons>
        <apex:pageBlockSection id="conDetails"  columns="1">
        <apex:pageBlockTable value="{!ContractList}" var="item" >
                <apex:column >
                    <apex:facet name="header">
                            <apex:inputCheckbox value="{!selectall}" onclick="selectAllCheckboxes(this,'inputId')"/>
                        </apex:facet>
                    <apex:inputCheckbox value="{!item.isSelected}" id="inputId"/>
                </apex:column>
                <apex:inputHidden value="{!item.contactcls.ID}" />
                <apex:column value="{!item.contactcls.Name}"/>
                <apex:column value="{!item.contactcls.Phone}"/> 
                <apex:column value="{!item.contactcls.Type__c}"/>
                <apex:column value="{!item.contactcls.school_Name__c}"/>
                
            </apex:pageBlockTable> 
            </apex:pageBlockSection>
     </apex:pageBlock>
   </apex:form>    
</apex:page>