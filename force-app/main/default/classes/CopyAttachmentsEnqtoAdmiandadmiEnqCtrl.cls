public class CopyAttachmentsEnqtoAdmiandadmiEnqCtrl {
    public static void CopyAttachmentsEnqtoAdmiandadmiEnqIns(list<Attachment> lstAttachment,Boolean TriggerisAfter,Boolean TriggerisInsert){
        System.debug(' lstAttachment >>> ' + lstAttachment);
        if(TriggerisAfter && TriggerisInsert && RecursiveTriggerHandler.isFirstTime== true){
            CAttachmentsEnqtoAdmiandadmiEnqIns(lstAttachment,TriggerisAfter,TriggerisInsert); 
        }    
    }
    public static void CAttachmentsEnqtoAdmiandadmiEnqIns(list<Attachment> lstAttachments,Boolean TriggerisAfter,Boolean TriggerisInsert){
        Set<Id> EnqIds = new Set<Id>();
        Set<Id> AdmIds = new Set<Id>();
        Id Admission_FormIds;
        Id stAdmEnquiryIds;
        Id EnquiryFormIds;
        RecursiveTriggerHandler.isFirstTime = false;
        System.debug(' lstAttachments >>> ' + lstAttachments);
        for(Attachment file : lstAttachments) {
            if(file.ParentId.getSObjectType() == Enquiry__c.getSObjectType()) 
            {  EnqIds.add(file.ParentId);
            }
            if(file.ParentId.getSObjectType() == Admission_Form__c.getSObjectType()) {
                AdmIds.add(file.ParentId);stAdmEnquiryIds = [Select Id,Enquiry_No__c From Admission_Form__c Where Id IN :AdmIds].Enquiry_No__c;
            }
        }
        System.debug('stAdmEnquiryIds >>> ' + stAdmEnquiryIds);
        System.debug('AdmIds >>> ' + AdmIds);
        System.debug('EnqIds >>> ' + EnqIds);
        if(!AdmIds.isEmpty()) { list<Enquiry__c> Enquirylist = new list<Enquiry__c>([Select Id,Name From Enquiry__c Where Id =:stAdmEnquiryIds]); 
            System.debug('Enquirylist >>> ' + Enquirylist);
            for(Enquiry__c oEnquirylist : Enquirylist){EnquiryFormIds = oEnquirylist.id;}List<Attachment> attachments = new List<Attachment>();for(Attachment file : lstAttachments) { Attachment newFile = file.clone();  newFile.ParentId = EnquiryFormIds;attachments.add(newFile);
            }if(!attachments.isEmpty()){ insert attachments;
            } 
        }
        System.debug('EnqIds>>> ' + EnqIds);
        if(!EnqIds.isEmpty()) { list<Admission_Form__c> Admission_FormMap = new list<Admission_Form__c>([Select Id,Enquiry_No__c From Admission_Form__c Where Enquiry_No__c =:EnqIds limit 1]);        
            System.debug('Admission_FormMap >>> ' + Admission_FormMap);
            for(Admission_Form__c Admission_Form : Admission_FormMap){
                Admission_FormIds = Admission_Form.id;}
                               List<Attachment> attachments = new List<Attachment>();
                               List<Attachment> attachmentslist =[select id, name, body,ParentId  from Attachment where ParentId =:EnqIds];
            System.debug('attachmentslist >>> ' + attachmentslist);
            for(Attachment file : attachmentslist) {
                Attachment newFile = file.clone();
                newFile.ParentId = Admission_FormIds;
                if(Admission_FormIds!=null){
                    attachments.add(newFile);
                }
            } if(!attachments.isEmpty()){
                insert attachments;
            } 
        }
    } 
    
      public static void fakeMethod() {
        Integer j = 0;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
        j++;
      }
}