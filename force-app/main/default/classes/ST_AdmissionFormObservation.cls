global class ST_AdmissionFormObservation {
    webservice static Boolean UpdateEnquiryObservationDone(String enqId){
        Boolean result = false;
        string customleadValue;
        string customAdmissionFormValue;
        List<Enquiry__c> updateEnquiry = new List<Enquiry__c>();
        //try{
            Enquiry__c enq = [Select Id,Lead_ID__c,Meet_Done__c,Interaction_Done__c, Stages__c from Enquiry__c where Id=:enqId];
            customleadValue = enq.Lead_ID__c;
            customAdmissionFormValue = enq.Id;
            enq.Stages__c = 'Interaction Done';
		    enq.Interaction_Done__c = true;
        	enq.Interaction_Done_On_Date__c=system.now().format('dd-MM-yyyy');
        enq.Interaction_Done_On_Time__c=system.now().format('hh:mm a');
         enq.Interaction_Done_On__c=System.Datetime.now();
            updateEnquiry.add(enq);
            update updateEnquiry;
            List<lead> lstlead = new List<Lead>();
            List<lead> slitlead = [select Id,name,Lead_ID__c,Status,Interaction_Done__c,Task_Count__c,Dormant_Count__c,Interaction_Done_On_Date__c,Interaction_Done_On_Time__c from lead where Lead_ID__c=: customleadValue];
            system.debug('slitlead >> ' + slitlead);
            if(!slitlead.isEmpty()){
                for(lead le : slitlead){
                    lead l = new lead();
                    l.id = le.id;
                    l.Interaction_Done__c=true;
                    l.Interaction_Done_On_Date__c=system.now().format('dd-MM-yyyy');
                        l.Interaction_Done_On_Time__c=system.now().format('hh:mm a'); 
                    l.Stage__c = 'Interaction Done';
                    //l.Task_Count__c = 0;
                    l.Dormant_Count__c = 0;
                    l.Dormant__c = false ;
                    lstlead.add(l);
                }
                system.debug('lstlead -- ' + lstlead);
                if(!lstlead.isEmpty()){
                    update lstlead;
                }
            }
            system.debug('customAdmissionFormValue >> ' + customAdmissionFormValue);
            List<Admission_Form__c> lstAdmissionForm = new List<Admission_Form__c>();
            List<Admission_Form__c> slitAdmissionForm = [SELECT Id,name, Application_Form__c, Enquiry_No__c, Interaction_Done__c, Interaction_Online_Rescheduled__c, Interaction_Online_Scheduled_For__c, Interaction_Online_Scheduled_On__c, Interaction_Online_Scheduled__c, Interaction_Rescheduled__c, Interaction_Scheduled_For__c, Interaction_Scheduled_On__c, Interaction_Scheduled__c FROM Admission_Form__c where Enquiry_No__c=: customAdmissionFormValue];
            system.debug('slitAdmissionForm >> ' + slitAdmissionForm);
            if(!slitAdmissionForm.isEmpty()){
                for(Admission_Form__c ADF : slitAdmissionForm){
                    Admission_Form__c AF = new Admission_Form__c();
                    AF.id = ADF.id;
                    AF.Interaction_Done__c = true;
                    AF.Status__c ='Interaction Done';
                    lstAdmissionForm.add(AF);
                }
                system.debug('lstAdmissionForm -- ' + lstAdmissionForm);
                if(!lstAdmissionForm.isEmpty()){
                    update lstAdmissionForm;
                }
            }
            result = true;
        //}catch(dmlexception e){
          //  System.debug('Error '+e.getMessage());
         //   result = false;
        //}
        
        return result;
    }
    
    webservice static Boolean UpdateEnquiryDocumentInComplete(String admissionFormId){
        Boolean result = false;
        List<Enquiry__c> updateEnquiry = new List<Enquiry__c>();
        List<Admission_Form__c> updateAdmissionForm = new List<Admission_Form__c>();
        try{
            Admission_Form__c af = [Select Id, Status__c, Enquiry_No__c from Admission_Form__c where Id=:admissionFormId];
            af.Status__c = 'Document Incomplete';
            updateAdmissionForm.add(af);
            
            update updateAdmissionForm;
            
            result = true;
        }catch(dmlexception e){
            System.debug('Error '+e.getMessage());
            result = false;
        }
        
        return result;
    }
    public static void FormFactory(){
        Integer i = 0;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
    }
}